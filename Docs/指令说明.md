# 指令说明

## 注册表挂载路径一览

方便 `REG` 文件导入或批处理调用。

`install.wim`
- `ntdata.dat`
  - `os-user`
- `default`
  - `os-def`
- `drivers`
  - `os-drv`
- `software`
  - `os-soft`
- `system`
  - `os-sys`

`boot.wim`
- `ntdata.dat`
  - `pe-user`
- `default`
  - `pe-def`
- `drivers`
  - `pe-drv`
- `software`
  - `pe-soft`
- `system`
  - `pe-sys`

## 各版本功能排列方案

`\Data\Builder` 目录为版本目录。可在此存放版本文件夹，选择 ISO 后会自动调用对应版本文件夹的指令。

> 如：建立一个 19041 版本的制作：

```
\Data\Builder\19041
```

## 按钮文件夹

在 `\Data\Builder\19041` 下可以建立按钮文件夹。用于各个按钮的展示。

> 如建立 `\Data\Builder\19041\001` 文件夹，必须存在至少一个文件夹。

## 指令文件

`\Data\Builder\19041\001` 按钮文件夹下必须存在一个 `Setting.txt` 指令文件（由自己新建文本文档）。

`Settings.txt` 指令文件具体书写内容参考下方说明。

### 按钮说明（必须存在）

```
图标|A.PNG
```
设定当前目录的 `A.PNG` 为按钮图标。

```
名称|CmdPE
```
设定按钮名称为 `CmdPE`。

```
描述|最小化 CmdPE 支持
```
设定按钮描述为最小化 `CmdPE` 支持。

```
选中|是
```
设定该按钮是否选中。是则选中，否则不选中。

### 指令说明（按需存在）

```
解压|1.7z
```
解压当前目录 `1.7z`到 `pe` 文件夹。

```
新建目录|1.TXT
```
新建当前 `1.txt` 内文件夹列表到 `pe` 文件夹。

```
文件复制|1
```
复制当前 `1` 文件夹到 `pe` 文件夹。

```
文件删除|1.TXT
```
删除 `pe` 文件夹中包含当前 `1.txt` 内文件列表。

```
更正路径|PE-SOFT
```
替换 `PE-SOFT` 注册表 `C:` `D:` 为 `X:`，以及清理 `Interactive User`。

```
注册表权限|PE-SOFT
```
获取 `PE-SOFT` 注册表权限。

```
运行|1.BAT|-A
```
运行当前目录 `1.bat`，参数为 `-A`。

```
运行|1.BAT
```
运行当前目录 `1.bat`。

```
隐藏运行|1.BAT|-A
```
隐藏运行当前目录 `1.bat`，参数为 `-A`。

```
隐藏运行|1.BAT
```
隐藏运行当前目录 `1.bat`。

```
注册表应用|PE-SOFT
```
应用 `PE-SOFT` 注册表到 PE。一般是最后才调用此功能收尾。

```
注册表导入|1.REG
```
导入当前目录的 `1.REG` 注册表。

```
注册表复制A|1.TXT|OS-SOFT|PE-SOFT
```
根据 `1.TXT` 注册表清单，从 `OS-SOFT` 复制相应项目到 `PE-SOFT`（包含子项）。

```
注册表复制B|1.TXT|OS-SOFT|PE-SOFT
```
根据 `1.TXT` 注册表清单，从 `OS-SOFT` 复制相应项目到 `PE-SOFT`（不包含子项）。

```
文件提取|BOOT.TXT|BOOT
```
从 `BOOT.WIM` 提取 `BOOT.TXT` 文件列表。`BOOT` 代表 `BOOT.WIM`，`INSTALL` 代表 `INSTALL.WIM`。

```
补齐MUI|WINDOWS\SYSTEM32|INSTALL
```
从 `install.wim` 补齐 `WINDOWS\SYSTEM32` 文件夹下的相关语言文件。`BOOT` 代表 `BOOT.WIM`，`INSTALL` 代表 `INSTALL.WIM`。

```
补齐MUN|INSTALL
```
从 `install.wim` 补齐 `mun` 文件。`BOOT` 代表 `BOOT.WIM`，`INSTALL` 代表 `INSTALL.WIM`。